
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Leitor Imersivo - Dom Casmurro</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="css/styles.css?v=1.1">

    <!-- A biblioteca pdf.js precisa ser carregada aqui no head -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-color, #f5f5f5);
            overflow-y: auto;
        }
        .reader-content {
            padding-top: 2rem;
            padding-bottom: 2rem;
        }
        .page.share-card {
            margin: 0 auto 1.5rem auto;
            width: 90%;
            max-width: 700px;
            background: var(--card-bg, #ffffff);
            border-radius: 16px;
            box-shadow: var(--shadow-md, 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06));
            padding: 0;
        }
        
        .share-card-content {
            padding: 1.5rem 1.75rem;
            border: none;
            box-shadow: none;
        }

        .share-card-body {
            color: var(--text-color, #1f2937);
            font-size: 1.15rem;
            line-height: 1.7;
            text-align: left !important;
        }

        .share-card-body .first-word {
            color: var(--primary-color, #2563eb);
            font-weight: 700;
            font-size: 1.4em;
            margin-right: 4px;
        }

        .share-card-footer {
            color: var(--text-secondary, #6b7280);
        }
    </style>
</head>
<body>

    <header class="app-header">
        <h1 class="app-title fullscreen-hidden">Leitor Imersivo</h1>
        <div class="theme-switcher">
            <button id="theme-toggle">
                <svg class="sun-icon" viewBox="0 0 24 24"><path fill="currentColor" d="M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zM2 13h2c.55 0 1-.45 1-1s-.45-1-1-1H2c-.55 0-1 .45-1 1s.45 1 1 1zm18 0h2c.55 0 1-.45 1-1s-.45-1-1-1h-2c-.55 0-1 .45-1 1s.45 1 1 1zM11 2v2c0 .55.45 1 1 1s1-.45 1-1V2c0-.55-.45-1-1-1s-1 .45-1 1zm0 18v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1zM5.64 5.64c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41l1.06 1.06c.39.39 1.02.39 1.41 0s.39-1.02 0-1.41L5.64 5.64zm12.72 12.72c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41l1.06 1.06c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41l-1.06-1.06zM5.64 18.36l-1.06-1.06c-.39-.39-.39-1.02 0-1.41s1.02-.39 1.41 0l1.06 1.06c.39.39.39 1.02 0 1.41s-1.02.39-1.41 0zm12.72-12.72l-1.06-1.06c-.39-.39-.39-1.02 0-1.41s1.02-.39 1.41 0l1.06 1.06c.39.39.39 1.02 0 1.41-.39.39-1.02.39-1.41 0z"/></svg>
                <svg class="moon-icon" viewBox="0 0 24 24"><path fill="currentColor" d="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9c0-.46-.04-.92-.1-1.36-.98 1.37-2.58 2.26-4.4 2.26-2.67 0-4.85-2.18-4.85-4.85 0-1.82.89-3.42 2.26-4.4-.44-.06-.9-.1-1.36-.1z"/></svg>
            </button>
        </div>
    </header>

    <div class="app-container">
        <audio id="fullscreen-audio" src="assets/Arnor(chosic.com).mp3" loop></audio>
        <button id="music-toggle-btn" class="fab-right">
            <svg class="play-music-icon" viewBox="0 0 24 24"><path fill="currentColor" d="M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"/></svg>
            <svg class="pause-music-icon" style="display: none;" viewBox="0 0 24 24"><path fill="currentColor" d="M10 16.5v-9l6 4.5-6 4.5zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/></svg>
        </button>
        <button id="exit-fullscreen-btn" class="exit-fullscreen-btn">
            <svg viewBox="0 0 24 24"><path fill="currentColor" d="M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41z"/></svg>
        </button>
        <div id="reader-screen" class="screen active">
            <div class="reader-content" id="reader-content">
                <!-- O conteúdo será gerado dinamicamente -->
            </div>
        </div>

        <!-- Bottom Info Panel (polished TikTok style) -->
        <div class="info-panel" id="info-panel">
            <div class="info-text">
                <h2 id="info-title">Dom Casmurro</h2>
                <p id="info-subtitle">Page 1 of 1</p>
            </div>
            <div class="info-actions">
                <a id="info-action" href="#" style="display:none">View Details</a>
            </div>
        </div>

        <!-- Slide-up Action Sheet -->
        <div id="action-sheet-overlay" class="action-sheet-overlay" style="display:none;"></div>
        <div id="action-sheet" class="action-sheet">
            <div class="action-sheet-handle" aria-hidden="true"></div>
            <div class="action-sheet-header">Opções</div>
            <button class="action-sheet-close-btn">
                <svg viewBox="0 0 24 24"><path fill="currentColor" d="M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41z"/></svg>
            </button>
            <button class="action-sheet-item" id="action-fullscreen">Modo Leitura</button>
            <button class="action-sheet-item" id="action-restart">Recomeçar</button>
            <button class="action-sheet-item" id="action-theme-dark">Tema Escuro</button>
            <button class="action-sheet-item" id="action-theme-light">Tema Claro</button>
            <button class="action-sheet-item" id="action-theme-default">Tema Padrão</button>


            <button class="action-sheet-item" id="action-read-aloud">Ler em voz alta</button>
            
        </div>
    </div>

    <script src="js/app.js"></script>

</body>
</html>
