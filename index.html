
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Leitor Imersivo - Dom Casmurro</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="css/styles.css?v=1.3">

    <!-- A biblioteca pdf.js precisa ser carregada aqui no head -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-color, #f5f5f5);
            overflow-y: auto;
        }
        .reader-content {
            padding-top: 2rem;
            padding-bottom: 2rem;
        }
        .page.share-card {
            margin: 0 auto 1.5rem auto;
            width: 90%;
            max-width: 700px;
            background: var(--card-bg, #ffffff);
            border-radius: 16px;
            box-shadow: var(--shadow-md, 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06));
            padding: 0;
        }
        
        .share-card-content {
            padding: 1.5rem 1.75rem;
            border: none;
            box-shadow: none;
        }

        .share-card-body {
            color: var(--text-color, #1f2937);
            font-size: 1.15rem;
            line-height: 1.7;
            text-align: left !important;
        }

        .share-card-body .first-word {
            color: var(--primary-color, #2563eb);
            font-weight: 700;
            font-size: 1.4em;
            margin-right: 4px;
        }

        .share-card-footer {
            color: var(--text-secondary, #6b7280);
        }
    </style>
</head>
<body>

    <header class="app-header">
        <h1 class="app-title fullscreen-hidden">Leitor Imersivo</h1>
        <div class="theme-switcher">
            <button id="theme-toggle">
                <svg class="sun-icon" viewBox="0 0 24 24"><path fill="currentColor" d="M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zM2 13h2c.55 0 1-.45 1-1s-.45-1-1-1H2c-.55 0-1 .45-1 1s.45 1 1 1zm18 0h2c.55 0 1-.45 1-1s-.45-1-1-1h-2c-.55 0-1 .45-1 1s.45 1 1 1zM11 2v2c0 .55.45 1 1 1s1-.45 1-1V2c0-.55-.45-1-1-1s-1 .45-1 1zm0 18v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1zM5.64 5.64c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41l1.06 1.06c.39.39 1.02.39 1.41 0s.39-1.02 0-1.41L5.64 5.64zm12.72 12.72c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41l1.06 1.06c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41l-1.06-1.06zM5.64 18.36l-1.06-1.06c-.39-.39-.39-1.02 0-1.41s1.02-.39 1.41 0l1.06 1.06c.39.39.39 1.02 0 1.41s-1.02.39-1.41 0zm12.72-12.72l-1.06-1.06c-.39-.39-.39-1.02 0-1.41s1.02-.39 1.41 0l1.06 1.06c.39.39.39 1.02 0 1.41-.39.39-1.02.39-1.41 0z"/></svg>
                <svg class="moon-icon" viewBox="0 0 24 24"><path fill="currentColor" d="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9c0-.46-.04-.92-.1-1.36-.98 1.37-2.58 2.26-4.4 2.26-2.67 0-4.85-2.18-4.85-4.85 0-1.82.89-3.42 2.26-4.4-.44-.06-.9-.1-1.36-.1z"/></svg>
            </button>
        </div>
    </header>

    <div class="app-container">
        <audio id="fullscreen-audio" src="assets/Arnor(chosic.com).mp3" loop></audio>
        <button id="music-toggle-btn" class="fab-right">
            <svg class="play-music-icon" viewBox="0 0 24 24"><path fill="currentColor" d="M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"/></svg>
            <svg class="pause-music-icon" style="display: none;" viewBox="0 0 24 24"><path fill="currentColor" d="M10 16.5v-9l6 4.5-6 4.5zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/></svg>
        </button>
        <button id="exit-fullscreen-btn" class="exit-fullscreen-btn">
            <svg viewBox="0 0 24 24"><path fill="currentColor" d="M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41z"/></svg>
        </button>
        <div id="reader-screen" class="screen active">
            <div class="reader-content" id="reader-content">
                <!-- O conteúdo será gerado dinamicamente -->
            </div>
        </div>

        <!-- Bottom Info Panel (polished TikTok style) -->
        <div class="info-panel" id="info-panel">
            <div class="info-text">
                <h2 id="info-title">Memórias Póstumas de Brás Cubas</h2>
                <p id="info-subtitle">Page 1 of 1</p>
            </div>
            <div class="info-actions">
                <a id="info-action" href="#" style="display:none">View Details</a>
            </div>
        </div>

        <!-- Slide-up Action Sheet -->
        <div id="action-sheet-overlay" class="action-sheet-overlay" style="display:none;"></div>
        <div id="action-sheet" class="action-sheet">
            <div class="action-sheet-handle" aria-hidden="true"></div>
            <div class="action-sheet-header">Opções</div>
            <button class="action-sheet-close-btn">
                <svg viewBox="0 0 24 24"><path fill="currentColor" d="M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41z"/></svg>
            </button>
            <div class="action-sheet-inner">
            <button class="action-sheet-item" id="action-restart">Recomeçar</button>

            <div class="action-sheet-header">Tema</div>
            <div class="theme-options" role="group" aria-label="Escolher tema de papel">
                <button class="theme-circle" data-theme-choice="default" aria-label="Padrão"></button>
                <button class="theme-circle" data-theme-choice="tema1" aria-label="Tema 1"></button>
                <button class="theme-circle" data-theme-choice="tema2" aria-label="Tema 2"></button>
            </div>

            <div class="action-sheet-header">Aparência</div>
            <div class="setting-row">
                <div class="setting-text">
                    <div class="setting-title">Modo escuro</div>
                    <div class="setting-subtitle">Melhor para leitura noturna</div>
                </div>
                <label class="switch">
                    <input type="checkbox" id="menu-dark-toggle" aria-label="Ativar modo escuro">
                    <span class="slider"></span>
                </label>
            </div>

            
            <button class="action-card deep-reading-card" id="action-fullscreen" aria-label="Leitura profunda">
                <span class="card-icon" aria-hidden="true">
                    <svg viewBox="0 0 64 64" width="28" height="28" fill="none">
                        <circle cx="32" cy="16" r="6" fill="currentColor"/>
                        <path d="M20 34c3-6 9-9 12-9s9 3 12 9" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M14 46c4-4 10-6 18-6s14 2 18 6" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M24 40l8 6 8-6" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </span>
                <span class="card-content">
                    <span class="card-title">Leitura profunda</span>
                    <span class="card-subtitle">Entrar em tela cheia e foco</span>
                </span>
            </button>

            <!-- Card do autor (logo abaixo do botão de leitura) -->
            <div class="author-card" role="group" aria-label="Sobre o autor">
                <div class="author-cover">
                    <img src="/assets/authorphoto.png" alt="Machado de Assis" loading="lazy"/>
                </div>
                <div class="author-content">
                    <div class="author-eyebrow">Sobre o autor</div>
                    <div class="author-title">Machado de Assis</div>
                    <div class="author-desc">Clássico da literatura brasileira. Cronista, contista e romancista.</div>
                    <div class="author-actions">
                        <a class="author-link" href="https://pt.wikipedia.org/wiki/Machado_de_Assis" target="_blank" rel="noopener">Ver mais</a>
                    </div>
                </div>
            </div>

            <div class="action-sheet-header">Outros livros do autor</div>
            <div class="carousel" aria-label="Outros livros">
                <a class="carousel-card" href="#" aria-label="Quincas Borba">
                    <img src="/assets/book1.svg" alt="Capa de Quincas Borba" loading="lazy" />
                    <div class="carousel-title">Quincas Borba</div>
                </a>
                <a class="carousel-card" href="#" aria-label="Memórias Póstumas de Brás Cubas">
                    <img src="/assets/book2.svg" alt="Capa de Memórias Póstumas de Brás Cubas" loading="lazy" />
                    <div class="carousel-title">Memórias Póstumas</div>
                </a>
                <a class="carousel-card" href="#" aria-label="Esaú e Jacó">
                    <img src="/assets/book3.svg" alt="Capa de Esaú e Jacó" loading="lazy" />
                    <div class="carousel-title">Esaú e Jacó</div>
                </a>
            </div>

            

            <!-- Último: Produtos -->
            <div class="action-sheet-header">Produtos</div>
            <div class="products-list" aria-label="Produtos do autor">
                <a class="product-card" href="#" aria-label="Marca-páginas">
                    <img src="/assets/product1.svg" alt="Marca-páginas" loading="lazy" />
                    <div class="product-title">Marca‑páginas</div>
                </a>
                <a class="product-card" href="#" aria-label="Pôster">
                    <img src="/assets/product2.svg" alt="Pôster" loading="lazy" />
                    <div class="product-title">Pôster</div>
                </a>
                <a class="product-card" href="#" aria-label="Camiseta">
                    <img src="/assets/product3.svg" alt="Camiseta" loading="lazy" />
                    <div class="product-title">Camiseta</div>
                </a>
                <a class="product-card" href="#" aria-label="Caderno">
                    <img src="/assets/product4.svg" alt="Caderno" loading="lazy" />
                    <div class="product-title">Caderno</div>
                </a>
            </div>
            </div>
        </div>
            </div>



            
        </div>
    </div>

    <script src="js/app.js"></script>

</body>
</html>
